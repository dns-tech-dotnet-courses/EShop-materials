---
created: 2025-02-03-17-17-57+10:00
tags:
---
Паттерн Repository — это шаблон проектирования, который используется для абстрагирования работы с данными, предоставляя "прослойку" между бизнес-логикой приложения и источником данных (например, базой данных, файловой системой или внешним API). 

**Основная идея паттерна Repository:**
Он скрывает детали реализации запросов к данным и предоставляет удобный интерфейс для взаимодействия с ними. Таким образом, бизнес-логика приложения не зависит от способа хранения данных.

**Ключевые аспекты:**
1. **Абстракция**: Пользователь взаимодействует с данными через методы репозитория, не зная, как данные извлекаются или где они хранятся.
2. **Тестируемость**: Благодаря интерфейсам и абстракции репозитория, легко подменить реализацию (например, использовать фейковый репозиторий в тестах).
3. **Упрощение работы с данными**: Вместо написания сложных SQL-запросов или манипуляций с внешними источниками данных, разработчик использует методы, такие как `Add()`, `GetById()`, `Remove()` и т.д.

**Пример:**
```csharp
public interface IProductRepository
{
    IEnumerable<Product> GetAllProducts();
    Product GetProductById(int id);
    void AddProduct(Product product);
}

public class ProductRepository : IProductRepository
{
    private readonly List<Product> _products = new();
    
    public IEnumerable<Product> GetAllProducts() => _products;
    public Product GetProductById(int id) => _products.FirstOrDefault(p => p.Id == id);
    public void AddProduct(Product product) => _products.Add(product);
}
```

Репозиторий позволяет работать с данными, не вникая в детали хранения (память, база данных и т.д.), и упрощает их замену или модификацию.
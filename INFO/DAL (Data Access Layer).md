---
created: 2025-02-03-15-13-33+10:00
tags:
---
**DAL (Data Access Layer)** — слой приложения, отвечающий за **работу с данными**.  
**Основное назначение**:  
- Выполнение CRUD-операций (Create, Read, Update, Delete).  
- Взаимодействие с БД, файлами, внешними API или другими источниками данных.  
- Инкапсуляция логики доступа к данным, чтобы бизнес-слой (Domain) не зависел от деталей хранения.  

**Что находится в DAL**:  
1. **Реализации репозиториев** (например, `UserRepository`), которые работают с конкретной технологией (EF Core, Dapper).  
2. **Контекст БД** (например, `DbContext` в EF Core).  
3. Миграции, маппинги сущностей на таблицы, raw-запросы.  

**Преимущества**:  
- **Изоляция изменений**: Смена БД или ORM не затрагивает Domain.  
- **Тестируемость**: Легко подменить DAL на заглушки (моки) в тестах.  
- **Чистая архитектура**: Бизнес-логика не смешивается с кодом доступа к данным.  

**Где расположить**:  
- Отдельный проект/слой (например, `MyApp.DAL`), который ссылается на Domain.  
- Реализации интерфейсов репозиториев из Domain → Dependency Injection связывает их в runtime.  

**Пример**:  
```csharp
public class UserRepository : IUserRepository // Интерфейс из Domain
{
    public User GetById(int id) 
    {
        // Логика запроса к БД через EF/Dapper
    }
}
```